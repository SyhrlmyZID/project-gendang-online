<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Kendang Online</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        // Object to store key mappings
        const keyMappings = {};

        // Function to handle playing audio for each key without delay
        function playAudio(key) {
            // Loop through keyMappings to find the audio element associated with the input key
            for (const [mappedKey, audioId] of Object.entries(keyMappings)) {
                if (mappedKey.toLowerCase() === key.toLowerCase()) {
                    const audioElement = document.getElementById(audioId);
                    if (audioElement) {
                        audioElement.currentTime = 0; // Reset audio to the beginning
                        audioElement.play();           // Play audio instantly
                    }
                }
            }
        }

        // Function to handle audio file upload
        function handleFileUpload(audioId, event) {
            const file = event.target.files[0];
            if (file) {
                const audioElement = document.getElementById(audioId);
                audioElement.src = URL.createObjectURL(file);
                audioElement.load();  // Ensure the audio is fully loaded for immediate playback
            }
        }

        // Function to set the key for the audio
        function setKey(keyInput, audioId) {
            const key = keyInput.value.toLowerCase(); // Convert to lowercase for consistency
            if (key && audioId) {
                keyMappings[key] = audioId;  // Map the input key to the audio ID
                document.getElementById(`${audioId}-status`).textContent = `Key: ${key.toUpperCase()} (Sudah Di set)`;

                // Show success modal
                const modal = new bootstrap.Modal(document.getElementById('successModal'));
                document.getElementById('modalMessage').textContent = `Key "${key.toUpperCase()}" berhasil diatur untuk audio ini.`;
                modal.show();
            } else {
                alert('Mohon masukkan key yang valid.');
            }
        }
    </script>
    <style>
        body {
            background-color: #121212;
            color: white;
        }

        .card {
            background-color: #1f1f1f;
            border: none;
            border-radius: 8px;
        }

        .card-title {
            color: #ff9800;
        }

        .btn-warning,
        .btn-primary {
            background-color: #ff9800;
            border-color: #ff9800;
        }

        .btn-warning:hover,
        .btn-primary:hover {
            background-color: #ff6600;
            border-color: #ff6600;
        }

        .card-body {
            padding: 20px;
            color: white;
        }

        .card-text {
            font-size: 14px;
        }

        .form-control {
            background-color: #2a2a2a;
            color: white;
            border-color: #444;
        }

        .form-control::placeholder {
            color: white;
        }

        .form-control:focus {
            background-color: #333;
            color: white;
            border-color: #ff9800;
        }

        .row {
            margin-bottom: 20px;
        }

        @media (max-width: 767px) {
            .row {
                justify-content: center;
            }
        }

        /* Styling for the modal */
        .modal-content {
            background-color: #1f1f1f;
            color: white;
            border-radius: 8px;
        }

        .modal-header {
            border-bottom: 1px solid #444;
        }

        .modal-footer {
            border-top: 1px solid #444;
        }

        .btn-close {
            color: white;
            opacity: 0.8;
        }

        .btn-close:hover {
            color: #ff9800;
            opacity: 1;
        }
    </style>
</head>

<body>

    <div class="container py-5">
        <h1 class="text-center mb-5 text-warning">Website Kendang Online</h1>

        <div class="row">
            <!-- Audio Box 1 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 1</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioA', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('t')">Play Audio</button>
                        <audio id="audioA" class="d-none"></audio>
                        <p id="audioA-status">Key: Belum Diset</p>
                        <input type="text" id="keyA" class="form-control mb-2" placeholder="Set Key (misal: A)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyA'), 'audioA')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 2 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 2</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioB', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('u')">Play Audio</button>
                        <audio id="audioB" class="d-none"></audio>
                        <p id="audioB-status">Key: Belum Diset</p>
                        <input type="text" id="keyB" class="form-control mb-2" placeholder="Set Key (misal: B)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyB'), 'audioB')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 3 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 3</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioC', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('v')">Play Audio</button>
                        <audio id="audioC" class="d-none"></audio>
                        <p id="audioC-status">Key: Belum Diset</p>
                        <input type="text" id="keyC" class="form-control mb-2" placeholder="Set Key (misal: C)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyC'), 'audioC')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 4 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 4</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioD', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('r')">Play Audio</button>
                        <audio id="audioD" class="d-none"></audio>
                        <p id="audioD-status">Key: Belum Diset</p>
                        <input type="text" id="keyD" class="form-control mb-2" placeholder="Set Key (misal: D)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyD'), 'audioD')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 5 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 5</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioE', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('e')">Play Audio</button>
                        <audio id="audioE" class="d-none"></audio>
                        <p id="audioE-status">Key: Belum Diset</p>
                        <input type="text" id="keyE" class="form-control mb-2" placeholder="Set Key (misal: E)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyE'), 'audioE')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 6 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 6</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioF', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('f')">Play Audio</button>
                        <audio id="audioF" class="d-none"></audio>
                        <p id="audioF-status">Key: Belum Diset</p>
                        <input type="text" id="keyF" class="form-control mb-2" placeholder="Set Key (misal: F)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyF'), 'audioF')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 7 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 7</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioG', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('g')">Play Audio</button>
                        <audio id="audioG" class="d-none"></audio>
                        <p id="audioG-status">Key: Belum Diset</p>
                        <input type="text" id="keyG" class="form-control mb-2" placeholder="Set Key (misal: G)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyG'), 'audioG')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 8 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 8</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioH', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('h')">Play Audio</button>
                        <audio id="audioH" class="d-none"></audio>
                        <p id="audioH-status">Key: Belum Diset</p>
                        <input type="text" id="keyH" class="form-control mb-2" placeholder="Set Key (misal: H)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyH'), 'audioH')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 9 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 9</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioI', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('i')">Play Audio</button>
                        <audio id="audioI" class="d-none"></audio>
                        <p id="audioI-status">Key: Belum Diset</p>
                        <input type="text" id="keyI" class="form-control mb-2" placeholder="Set Key (misal: I)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyI'), 'audioI')">Set Key</button>
                    </div>
                </div>
            </div>


            <!-- Audio Box 10 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 10</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioE', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('e')">Play Audio</button>
                        <audio id="audioE" class="d-none"></audio>
                        <p id="audioE-status">Key: Belum Diset</p>
                        <input type="text" id="keyE" class="form-control mb-2" placeholder="Set Key (misal: J)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyE'), 'audioE')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 11 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 11</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioE', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('e')">Play Audio</button>
                        <audio id="audioE" class="d-none"></audio>
                        <p id="audioE-status">Key: Belum Diset</p>
                        <input type="text" id="keyE" class="form-control mb-2" placeholder="Set Key (misal: K)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyE'), 'audioE')">Set Key</button>
                    </div>
                </div>
            </div>

            <!-- Audio Box 12 -->
            <div class="col-md-3 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title">Audio Box 12</h5>
                        <input type="file" class="form-control mb-2" onchange="handleFileUpload('audioE', event)">
                        <button class="btn btn-warning mb-2" onclick="playAudio('e')">Play Audio</button>
                        <audio id="audioE" class="d-none"></audio>
                        <p id="audioE-status">Key: Belum Diset</p>
                        <input type="text" id="keyE" class="form-control mb-2" placeholder="Set Key (misal: L)">
                        <button class="btn btn-primary mb-2"
                            onclick="setKey(document.getElementById('keyE'), 'audioE')">Set Key</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal for successful key setting -->
        <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="successModalLabel">Berhasil!</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modalMessage"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Tutup</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

        <script>
            // Event listener for keyboard input to play audio in real-time
            document.addEventListener('keydown', function (event) {
                const key = event.key.toLowerCase(); // Convert to lowercase to match keys in keyMappings
                playAudio(key);
            });
        </script>

</body>

</html>